<items>
<item>
<title>[COLOR yellow][B] Si tienes Problemas de Reproducción LÉEME[/B] [/COLOR]</title>
<link>$doregex[openDialog]</link>
<regex>
<name>openDialog</name>
<expres><![CDATA[#$pyFunction
import xbmcaddon
import xbmcgui
def GetLSProData(page_data,Cookie_Jar,m):
    __addon__ = xbmcaddon.Addon()
    __addonname__ = __addon__.getAddonInfo('name')     
    line1 = "1º Menú de configuración del Addon de YouTube "

    line2 = "2º En ajustes de Youtube, la pestaña MPEG-DASH Activar Usar mpeg-dash y habilitar Proxy MPEG-DASH"

    line3 = "3º También puedes instalar el YouTube Mod de Catoal que deja esas opciones activadas y que esta en la fuente de Catoal" 
    xbmcgui.Dialog().ok(__addonname__, line1, line2, line3)
    return "https://bit.ly/2MmFZAZ"
]]></expres>
<page></page>
<cookieJar></cookieJar>
</regex>
<thumbnail>https://i.imgur.com/M5QwElJ.jpg</thumbnail>
<fanart>https://i.imgur.com/4QbrsYR.jpg</fanart>
</item>


<item>
<title>[COLOR yellow][B] Canales en directo necesario tener URLResolver...[/B] [/COLOR]</title>
<link>Nolink</link>

<thumbnail>https://i.imgur.com/gylVcAH.jpg</thumbnail>
<fanart>https://i.imgur.com/cMYzVG4.jpg</fanart>
</item>

<item>
<title>[COLOR lime][B] Secrets of The Universe Live Stream Spark (Subtitulado) [/B][/COLOR]</title>
<urlsolve>https://www.youtube.com/watch?v=jyzIv_uLiXs</urlsolve>
<thumbnail>https://i.imgur.com/9QWj2YZ.jpg</thumbnail>
<fanart>https://i.imgur.com/cMYzVG4.jpg</fanart>
</item>


<item>
<title>[COLOR lime][B] NASA TV Public-Education (Subtitulado)[/B][/COLOR]</title>
<urlsolve>https://www.youtube.com/watch?v=wwMDvPCGeE0</urlsolve>
<thumbnail>https://i.imgur.com/XTmEuwI.jpg</thumbnail>
<fanart>https://i.imgur.com/cMYzVG4.jpg</fanart>
</item>


<item>
<title>[COLOR lime][B] NASA TV Media (Subtitulado)[/B][/COLOR]</title>
<urlsolve>https://www.youtube.com/watch?v=P11y8N22Rq0</urlsolve>
<thumbnail>https://i.imgur.com/KbIBtOk.jpg</thumbnail>
<fanart>https://i.imgur.com/cMYzVG4.jpg</fanart>
</item>

<item>
<title>[COLOR lime][B] Earth from space : Time Lapse Collection - Images from astronauts on the ISS[/B][/COLOR]</title>
<urlsolve>https://www.youtube.com/watch?v=qyEzsAy4qeU</urlsolve>
<thumbnail>https://i.imgur.com/c9jFzrS.jpg</thumbnail>
<fanart>https://i.imgur.com/cMYzVG4.jpg</fanart>
</item>

<item>
<title>[COLOR yellow][B] Canales Especializados de YouTube[/B] [/COLOR]</title>
<link>nolink</link>
<thumbnail>https://i.imgur.com/tG8cbhc.jpg</thumbnail>
<fanart>https://i.imgur.com/cMYzVG4.jpg</fanart>

</item>




<item>

<title>[COLOR lime][B] Mundo desconocidos [/B][/COLOR]</title>
<link>ignore</link>
<jsonrpc>plugin://plugin.video.youtube/kodion/search/query/?q=mundos+desconocidos&sp=UUnOAynBmYKA1neozHQNF0mA&search_type=playlist</jsonrpc>
<thumbnail>https://i.imgur.com/tG8cbhc.jpg</thumbnail>
<fanart>https://i.imgur.com/WEcRqsp.jpg</fanart>
</item

<item>

<title>[COLOR lime][B] Vicente fuentes[/B][/COLOR]</title>
<link>ignore</link>
<jsonrpc>plugin://plugin.video.youtube/kodion/search/query/?q=vicente+fuentes&sp=UUWI70VlhoBiCvhmDMQle9UAmA&search_type=playlist</jsonrpc>
<thumbnail>https://i.imgur.com/tG8cbhc.jpg</thumbnail>
<fanart>https://i.imgur.com/WEcRqsp.jpg</fanart>
</item

<item>
 <title>[COLOR lime][B] UFOvnis[/B][/COLOR]</title>
<link>ignore</link>
<jsonrpc>plugin://plugin.video.youtube/kodion/search/query/?q=UFOvnis&sp=UUbWqoBboiayXdrAF07SJB7A&search_type=playlist</jsonrpc>
<thumbnail>https://i.imgur.com/tG8cbhc.jpg</thumbnail>
<fanart>https://i.imgur.com/WEcRqsp.jpg</fanart>
</item


<item>

<title>[COLOR lime][B] Verdad Oculta [/B][/COLOR]</title>
<link>ignore</link>
<jsonrpc>plugin://plugin.video.youtube/kodion/search/query/?q=Verdad+oculta&list=UUALE1jdtTAmgzyyH4FMU5pQ</jsonrpc>
<thumbnail>https://i.imgur.com/tG8cbhc.jpg</thumbnail>
<fanart>https://i.imgur.com/WEcRqsp.jpg</fanart>
</item

<item>
  
<title>[COLOR lime][B] Atraviesa lo Desconocido [/B][/COLOR]</title>
<link>ignore</link>https://www.youtube.com
<jsonrpc>plugin://plugin.video.youtube/kodion/search/query/?q=atraviesa+lo+desconocido&list=UUnpy6aaJeb29DZJ8bsCgRiQ</jsonrpc>
<thumbnail>https://i.imgur.com/tG8cbhc.jpg</thumbnail>
<fanart>https://i.imgur.com/WEcRqsp.jpg</fanart>
</item

<item>
 
<title>[COLOR lime][B] JJ.Benitez[/B][/COLOR]</title>
<link>ignore</link>
<jsonrpc>plugin://plugin.video.youtube/kodion/search/query/?q=jj.benitez+ovnis+y+extraterrestres&sp=CAISBBgCIAFCBAgBEgA%253D</jsonrpc>
<thumbnail>https://i.imgur.com/tG8cbhc.jpg</thumbnail>
<fanart>https://i.imgur.com/WEcRqsp.jpg</fanart>
</item>


<item>
 
<title>[COLOR lime][B] Eric Von Däniken [/B][/COLOR]</title>
<link>ignore</link>
<jsonrpc>plugin://plugin.video.youtube/kodion/search/query/?q=eric+von+däniken+español</jsonrpc>
<thumbnail>https://i.imgur.com/tG8cbhc.jpg</thumbnail>
<fanart>https://i.imgur.com/WEcRqsp.jpg</fanart>
</item>

<item>
<title>[COLOR yellow][B] Busca Tu Documental Sobre tu tema Favorito [/B][/COLOR]</title>
<link>$doregex[makelist]</link>
<thumbnail>https://i.imgur.com/m7tzbN1.png</thumbnail>
<fanart>https://i.imgur.com/gylVcAH.jpg</fanart>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
<title>[COLOR lime] O.V.N.I: [/COLOR][COLOR white][makelist.param2][/COLOR]</title>
<link>$doregex[resolve]</link>
<thumbnail>https://i.imgur.com/m7tzbN1.png</thumbnail>
<fanart>https://i.imgur.com/gylVcAH.jpg</fanart>
]]></listrepeat>
<expres>u'(.+?)', u'(.+?)'</expres>
<page>$doregex[search]</page>
</regex>
 
<regex>
<name>resolve</name>
<expres><![CDATA[#$pyFunction
import urlresolver
def GetLSProData(page_data,Cookie_Jar,m):
 url = 'https://www.youtube.com/watch?v=[makelist.param1]'
 streamLink = urlresolver.resolve(url)
 return streamLink
]]></expres>
<page></page>
</regex>
 
<regex>
<name>search</name>
<expres><![CDATA[#$pyFunction
import requests,xbmcgui,xbmc, re,time, xbmcaddon
def GetLSProData(page_data,Cookie_Jar,m):
 
 text=takeInputFortext('[COLOR yellow] O.V.N.I[/COLOR] [COLOR white]Buscar Canal[/COLOR]')
 url = 'https://www.youtube.com/results?search_query=canal+ovnis+ufo' + text.replace(' ', '+')
 req = requests.get(url)
 list1 = re.findall('yt-lockup-c.+?a\shref=".watch.v=([^"]+)".+?\s\stitle="([^"]+)"\s', req.text)
 
 count = 50
 while count > 1:
   try:
     url = 'https://www.youtube.com' + re.findall('a href="([^"]+)".+<\/a>\n <\/div>', req.text)[0]
   except:
     return list1
   req = requests.get(url)
   list2 = re.findall('yt-lockup-c.+?a\shref=".watch.v=([^"]+)".+?\s\stitle="([^"]+)"\s', req.text)
   list1 = list1 + list2
   count = count - 1
 return list1
 
def takeInputFortext(txt):
 addon = xbmcaddon.Addon('plugin.video.ovni')
 addon_version = addon.getAddonInfo('version')
 profile = xbmc.translatePath(addon.getAddonInfo('profile').decode('utf-8'))
 
 solver = InputWindow( txt=txt)
 solution = solver.get()
 return solution
 
class InputWindow(xbmcgui.WindowDialog):
    def __init__(self, *args, **kwargs):
       
        self.txt = kwargs.get('txt','')
 
        xbmcgui.WindowXMLDialog.__init__(self)
        #self.addControl(self.txt)
        path = xbmcaddon.Addon().getAddonInfo('path')
        self.kbd = xbmc.Keyboard()
        self.kbd.setHeading( self.txt)
 
    def get(self):
        self.show()
        time.sleep(2)
        self.kbd.doModal()
        if (self.kbd.isConfirmed()):
            text = self.kbd.getText()
            self.close()
            return text
        self.close()
        return False
]]></expres>
<page></page>
</regex>
</item>

<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
 
 
<item>
<title>[COLOR white][COLOR red] [/COLOR] Buscador de Documentales de Ovnis y Ufología </title>
<link>$doregex[makelist]</link>
<thumbnail>https://pbs.twimg.com/profile_images/887800080052432900/AibeE5p1_400x400.jpg</thumbnail>
<fanart>http://1.bp.blogspot.com/-Y7IIGOMzpqY/UEEp-SKfs2I/AAAAAAAACkg/1lP8pmMMT2I/s1600/alejandria_biblioteca.jpg</fanart>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
<title>[COLOR yellow] Agora [/COLOR][COLOR white][makelist.param2][/COLOR]</title>
<link>$doregex[resolve]</link>
<thumbnail>https://i.pinimg.com/originals/93/2e/d5/932ed557347d80b825ca0f98cd2e0cb3.jpg</thumbnail>
<fanart>http://1.bp.blogspot.com/-Y7IIGOMzpqY/UEEp-SKfs2I/AAAAAAAACkg/1lP8pmMMT2I/s1600/alejandria_biblioteca.jpg</fanart>
]]></listrepeat>
<expres>u'(.+?)', u'(.+?)'</expres>
<page>$doregex[search]</page>
</regex>
 
<regex>
<name>resolve</name>
<expres><![CDATA[#$pyFunction
import urlresolver
def GetLSProData(page_data,Cookie_Jar,m):
 url = 'https://www.youtube.com/watch?v=[makelist.param1]'
 streamLink = urlresolver.resolve(url)
 return streamLink
]]></expres>
<page></page>
</regex>
 
<regex>
<name>search</name>
<expres><![CDATA[#$pyFunction
import requests,xbmcgui,xbmc, re,time, xbmcaddon
def GetLSProData(page_data,Cookie_Jar,m):
 
 text=takeInputFortext('[COLOR yellow] Agora/[/COLOR] [COLOR white]Buscar Documental[/COLOR]')
 url = 'https://www.youtube.com/results?search_query=Documental de' + text.replace(' ', '+')
 req = requests.get(url)
 list1 = re.findall('yt-lockup-c.+?a\shref=".watch.v=([^"]+)".+?\s\stitle="([^"]+)"\s', req.text)
 
 count = 50
 while count > 1:
   try:
     url = 'https://www.youtube.com' + re.findall('a href="([^"]+)".+<\/a>\n <\/div>', req.text)[0]
   except:
     return list1
   req = requests.get(url)
   list2 = re.findall('yt-lockup-c.+?a\shref=".watch.v=([^"]+)".+?\s\stitle="([^"]+)"\s', req.text)
   list1 = list1 + list2
   count = count - 1
 return list1
 
def takeInputFortext(txt):
 addon = xbmcaddon.Addon('plugin.video.ovni')
 addon_version = addon.getAddonInfo('version')
 profile = xbmc.translatePath(addon.getAddonInfo('profile').decode('utf-8'))
 
 solver = InputWindow( txt=txt)
 solution = solver.get()
 return solution
 
class InputWindow(xbmcgui.WindowDialog):
    def __init__(self, *args, **kwargs):
       
        self.txt = kwargs.get('txt','')
 
        xbmcgui.WindowXMLDialog.__init__(self)
        #self.addControl(self.txt)
        path = xbmcaddon.Addon().getAddonInfo('path')
        self.kbd = xbmc.Keyboard()
        self.kbd.setHeading( self.txt)
 
    def get(self):
        self.show()
        time.sleep(2)
        self.kbd.doModal()
        if (self.kbd.isConfirmed()):
            text = self.kbd.getText()
            self.close()
            return text
        self.close()
        return False
]]></expres>
<page></page>
</regex>
</item>

<item>
<title>[COLOR yellow][B] Documentales: Ovnis y Ufología [/B][/COLOR]</title>
<link>ignore</link>
<jsonrpc>plugin://plugin.video.youtube/kodion/search/query/?q=documental+de+ovnis&sp=EgIQAw%253D%253D&search_type=playlist</jsonrpc>
<thumbnail>https://i.pinimg.com/originals/93/2e/d5/932ed557347d80b825ca0f98cd2e0cb3.jpg</thumbnail>
<fanart>http://1.bp.blogspot.com/-Y7IIGOMzpqY/UEEp-SKfs2I/AAAAAAAACkg/1lP8pmMMT2I/s1600/alejandria_biblioteca.jpg</fanart>
</item>



<item>
<title>[COLOR yellow][B] Documentales: Alienigenas Ancestrales[/B][/COLOR]</title>
<link>ignore</link>
<jsonrpc>plugin://plugin.video.youtube/kodion/search/query/?q=documental+de+alienigenas+ancestrales&sp=EgIQAw%253D%253D&search_type=playlist</jsonrpc>
<thumbnail>https://lh5.googleusercontent.com/-2qv6tbFhXgI/TYaT19rLXwI/AAAAAAAAALA/rF_nqGJuVZI/s1600/alienigenas+ancestrales+la+mision.jpg</thumbnail>
<fanart>http://1.bp.blogspot.com/-Y7IIGOMzpqY/UEEp-SKfs2I/AAAAAAAACkg/1lP8pmMMT2I/s1600/alejandria_biblioteca.jpg</fanart>
</item>


 
<item>
<title>[COLOR yellow][B] Documentales: Abducciones[/B][/COLOR]</title>
<link>ignore</link>
<jsonrpc>plugin://plugin.video.youtube/kodion/search/query/?q=documental+de+abducciones+extraterrestres&search_type=playlist</jsonrpc>
<thumbnail>https://i.pinimg.com/736x/2d/7c/0e/2d7c0e25d2b3c57eb5b4be89c4a64c1d--aliens-posts.jpg</thumbnail>
<fanart>http://1.bp.blogspot.com/-Y7IIGOMzpqY/UEEp-SKfs2I/AAAAAAAACkg/1lP8pmMMT2I/s1600/alejandria_biblioteca.jpg</fanart>
</item>


<item>
<title>[COLOR yellow][B] Documentales:  Creacionismo Alienígena[/B][/COLOR]</title>
<link>ignore</link>
<jsonrpc>plugin://plugin.video.youtube/kodion/search/query/?q=Creacionismo%20Alien%c3%adgena&search_type=playlist</jsonrpc>
<thumbnail>https://oldcivilizations.files.wordpress.com/2012/01/annunakis-dioses-sumerios_-copia.jpg</thumbnail>
<fanart>http://1.bp.blogspot.com/-Y7IIGOMzpqY/UEEp-SKfs2I/AAAAAAAACkg/1lP8pmMMT2I/s1600/alejandria_biblioteca.jpg</fanart>
</item>



<item>
<title>[COLOR yellow][B] Documentales:  Cazadores Misterios Alienigenas[/B][/COLOR]</title>
<link>ignore</link>
<jsonrpc>plugin://plugin.video.youtube/kodion/search/query/?q=Cazadores+Misterios+Alienigenas+CANAL+HISTORIA&search_type=playlist</jsonrpc>
<thumbnail>https://i.pinimg.com/originals/d7/58/ab/d758abbcea51a0e50cc4a8b23f4dc5be.gif</thumbnail>
<fanart>http://1.bp.blogspot.com/-Y7IIGOMzpqY/UEEp-SKfs2I/AAAAAAAACkg/1lP8pmMMT2I/s1600/alejandria_biblioteca.jpg</fanart>
</item>
